/******************************************************************************

                            Online C# Compiler.
                Code, Compile, Run and Debug C# program online.
Write your code in this editor and press "Run" button to execute it.

*******************************************************************************/

using System;
class Security
{
    static string password = GetPasswordFromUser();

    static void Main()
    {
        int score = EstRobuste();

        if (score >= 7)
        {
            Console.WriteLine("Votre mot de passe est fort");
        }
        else if (score >= 4)
        {
            Console.WriteLine("Votre mot de passe est moyen");
        }
        else
        {
            Console.WriteLine("Votre mot de passe est faible");
        }

        Console.WriteLine($"Score du mot de passe : {score}");
    }
    
    static string GetPasswordFromUser()
    {
        Console.Write("Veuillez entrer votre mot de passe : ");
        string password = "";

        // Boucle pour lire chaque caractère sans l'afficher
        ConsoleKeyInfo key;
        do
        {
            key = Console.ReadKey(true);

            // Ajouter le caractère à la chaîne du mot de passe
            if (key.Key != ConsoleKey.Enter)
            {
                password += key.KeyChar;
            }

        } while (key.Key != ConsoleKey.Enter);

        Console.WriteLine(); // Aller à la ligne après la saisie

        return password;
    }

    static int EstRobuste()
    {
        int scoreGlobal = 0;

        if (ContientChiffres(password) > 0)
        {
            scoreGlobal += 2;
        }

        if (CheckLongueur(password) > 0)
        {
            scoreGlobal += 1;
        }

        if (ContientCaractereSpecial(password) > 0)
        {
            scoreGlobal += 3;
        }

        if (ContientMajuscule(password) > 0)
        {
            scoreGlobal += 2;
        }

        if (ContientMinuscule(password) > 0)
        {
            scoreGlobal += 1;
        }

        return scoreGlobal;
    }

    static int ContientChiffres(string password)
    {
        int Score = 0;
        foreach (char caractere in password)
        {
            if (caractere >= '0' && caractere <= '9')
            {
                Score += 2;
            }
        }

        return Score;
    }

    static int CheckLongueur(string password)
    {
        int Score = 0;

        if (password.Length >= 8)
        {
            Score += 2;
        }

        return Score;
    }

    static int ContientCaractereSpecial(string password)
    {
        int Score = 0;
        foreach (char caractere in password)
        {
            if (!char.IsLetterOrDigit(caractere))
            {
                Score += 3;
            }
        }

        return Score;
    }

    static int ContientMajuscule(string password)
    {
        int Score = 0;
        foreach (char caractere in password)
        {
            if (char.IsUpper(caractere))
            {
                Score += 2;
            }
        }

        return Score;
    }

    static int ContientMinuscule(string password)
    {
        int Score = 0;
        foreach (char caractere in password)
        {
            if (char.IsLower(caractere))
            {
                Score += 1;
            }
        }

        return Score;
    }
}


